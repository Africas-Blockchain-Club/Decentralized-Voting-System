<!DOCTYPE html>
<html>
<head>
	<title>Login Page</title>
	<link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
	<header>
		<h1>Inclusive Vote</h1>
		<nav>
			<ul>
				<li><a href="index.html">Home</a></li>
				<li><a href="view-ballot.html">View Ballot</a></li>
				<li><a href="vote.html">Cast a Vote</a></li>
			</ul>
		</nav>
	</header>
	<main>
		<h2>Login</h2>
		<form id="login-form">
			<label for="email">Email:</label>
			<input type="email" id="email" name="email" required>
			<br>
			<label for="password">Password:</label>
		<input type="password" id="password" name="password" required>
			<br>
			<input type="submit" value="Login">
		</form>
		<p id="message"></p>
	</main>
	<script>
		document.getElementById("login-form").addEventListener("submit", function(event) {
			event.preventDefault();
			const email = document.getElementById("email").value;
			const password = document.getElementById("password").value;

			// Load the user data from the JSON file
			fetch("users.json")
				.then(response => response.json())
				.then(data => {
					// Find the user with the given email and password
					const user = data.find(user => user.email === email && user.password === password);
					if (user) {
						// Redirect the user to the ballot page
						window.location.href = "ballot.html";
					} else {
						// Display an error message
						document.getElementById("message").textContent = "Invalid email or password";
					}
				});
		});
	</script>
</body>
</html>